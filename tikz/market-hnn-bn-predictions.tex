% https://olivierpieters.be/blog/2015/10/23/latex-plotting-from-file

\documentclass[border=10pt]{standalone}
\usepackage{pgfplots}
% \usepackage{filecontents}
% \usepgfplotslibrary{groupplots}
\usepackage{pgfplotstable}
% \usepackage{pgfplotstable} % <-- required in preamble
\usepackage{booktabs}      % <-- required in preamble
\usepackage{tikz}
\usepackage{xstring}
\usepackage{catchfile}

\pgfplotstableread[col sep=comma]{market-hnn-lstm-bn-predictions.csv}\mydata
\begin{document}


\begin{tikzpicture}
% \pgfplotsset{set layers}

\begin{axis}[    
    % group style = {group size = 1 by 4},
    scale only axis,
     height=5cm, width=20cm,
     xmin=1, xmax=500,
     % ymax=20,
     legend pos=north west,
     xlabel=\large{time steps, n},
     ylabel=\large{outputs},
     axis y line*=left
    ]
    \addplot[color=blue,mark=.,thick] table[x index={0}, y index={2}]{\mydata}; % ground truth
    % \addplot[color=red,dashed, mark=.,thick] table[x index={0}, y index={3}]{\mydata}; % lstm results
    % \addplot[color=green,dashdotted, mark=.,thick] table[x index={0}, y index={4}]{\mydata}; % hnn results
    \label{plot:ground-truth};
    \addlegendentry{ground truth};
    % \addlegendentry{LSTM predictions}
    % \addlegendentry{HNN predictions}
\end{axis}

\begin{axis}[    
    % group style = {group size = 1 by 4},
        scale only axis,
     height=5cm, width=20cm,
     xmin=1, xmax=500,
     % ymax=20,
     legend pos=north west,
     xlabel=\large{time steps, n},
     % ylabel=\large{outputs}
      axis y line*=right
    ]
\addlegendimage{/pgfplots/refstyle=plot:ground-truth}\addlegendentry{ground truth};

    % \addplot[color=blue,mark=.,thick] table[x index={0}, y index={2}]{\mydata}; % ground truth
    % \addplot[color=red,dashed, mark=.,thick] table[x index={0}, y index={3}]{\mydata}; % lstm results
    \addplot[color=green,dashdotted, mark=.,thick] table[x index={0}, y index={4}]{\mydata}; % hnn results
    % \addlegendentry{ground truth}
    % \addlegendentry{LSTM predictions}
    \addlegendentry{HNN predictions}
\end{axis}
\end{tikzpicture}
\end{document}