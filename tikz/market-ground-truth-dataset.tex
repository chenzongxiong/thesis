% https://olivierpieters.be/blog/2015/10/23/latex-plotting-from-file

\documentclass[border=10pt]{standalone}
\usepackage{pgfplots}
% \usepackage{filecontents}
\usepgfplotslibrary{groupplots}
\usepackage{pgfplotstable}
% \usepackage{pgfplotstable} % <-- required in preamble
\usepackage{booktabs}      % <-- required in preamble
\usepackage{tikz}
\usepackage{xstring}
\usepackage{catchfile}

% \begin{filecontents*}{data.csv}
% a,b,c,d
% 1,4,5,1
% 2,3,1,5
% 3,5,6,1
% 4,1,4,9
% 5,3,4,7
% \end{filecontents*}

% \pgfplotstableread[col sep=comma]{mu-0-sigma-110.0-points-2000.csv}\mydata
\pgfplotstableread[col sep=comma]{mu-0-sigma-10.0-points-1700.csv}\mydata

% \pgfplotstabletypeset[
%     columns               ={\#noise,\#price,\#kn,\#walk},
%     % columns/f/.style      ={column name=$f (\hertz)$,sci},
%     % columns/V1/.style     ={column name=$V_P (\volt)$},
%     % columns/V2/.style     ={column name=$V_S (\volt)$,fixed},
%     % columns/phi/.style    ={column name=$\phi (\degree)$},
%     % columns/T/.style      ={column name=$T (\frac{\volt}{\volt})$,fixed,precision=3},
%     % every head row/.style ={before row=\toprule, after row=\midrule},
%     % every last row/.style ={after row=\bottomrule%
%     % %\\\caption{Measurement data and transfer function%
%     % %\label{measurementCompleteFilterTable}}%
%     % },
%     col sep=comma,
%     dec sep align]{mu-0-sigma-110.0-points-2000.csv}
    
\begin{document}

% \CatchFileDef{\tempa}{mu-0-sigma-110.0-points-2000.csv}{}%
%\show \tempa
%\expandafter\StrSubstitute\expandafter{\tempa}{,}{/}[\tempa]%


\begin{tikzpicture}
\begin{groupplot}[    
    group style = {group size = 1 by 4},
     height=5cm, width=20cm,
     xmin=0, xmax=1700,
     % horizontal sep=2cm, 
     % vertical sep=5cm
    % xticklabels from table = {\Data}{Day}, xtick = {1,...,19},
    % xticklabel style = {rotate = 90, xshift = -0.8ex, anchor = mid east}
    ]
    \nextgroupplot[ylabel={$b_n$}]
    \addplot[color=red,mark=.] table[x index={0}, y index={5}]{\mydata}; % random walk (practical)
    \nextgroupplot[ylabel=price]
    \addplot[color=blue,mark=.] table[x index={0}, y index={3}]{\mydata}; % price
    \nextgroupplot[ylabel=stocks, xlabel={time steps, $n$}]
    \addplot[color=black,mark=.] table[x index={0}, y index={1}]{\mydata}; % stocks
    % \nextgroupplot[ylabel=external agents]
    % \addplot[green] table[x index={6}, y index={1}]{\mydata}; % noise
    % \foreach \t in \mydata {
    % }
    % \nextgroupplot[ylabel=external agents]

    
\end{groupplot}
\end{tikzpicture}
\end{document}