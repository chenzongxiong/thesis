\documentclass{standalone}
\usepackage{tikz}
\usepackage{amsmath}
\usepackage{pgfplots}

\begin{document}
\begin{tikzpicture}[font=\small]

        \begin{axis} [
            width=10cm,height=7cm,
            xmin=-1.5, xmax=11, ymin=-1.5, ymax=13, 
            % grid=both,
            % ylabel={$y$}, 
            xlabel={$x$},
            %xtick={0,1,...,10},
            % xtick={-2,-1.5,...,2}, ytick={-2,-1.5,...,2},
            % xticklabel style={font=\tiny, xshift=0.5ex},
            % yticklabel style={font=\tiny, yshift=0.5ex},
            %   yticklabels={0,1,...,10},
             xticklabels={0,1,...,10},
            axis line style={->},
            axis x line=middle,
            axis y line=middle
            % legend pos=north west
            %ticks=none
        ]

        \draw[] (axis cs:0,3) -- (axis cs:1,3);
        \draw[] (axis cs:1,5) -- (axis cs:2,5);
        \draw[] (axis cs:2,7) -- (axis cs:3,7);
        \draw[] (axis cs:3,8) -- (axis cs:4,8);
        \draw[] (axis cs:4,8) -- (axis cs:5,8);
        \draw[] (axis cs:5,2) -- (axis cs:6,2);
        \draw[] (axis cs:6,7) -- (axis cs:7,7);
        \draw[] (axis cs:7,9) -- (axis cs:8,9);
        \draw[] (axis cs:8,1) -- (axis cs:9,1);
        \draw[] (axis cs:9,5) -- (axis cs:10,5);
        
        \draw[] (axis cs:1,3) -- (axis cs:1,5);
        \draw[] (axis cs:2,5) -- (axis cs:2,7);
        \draw[] (axis cs:3,7) -- (axis cs:3,8);
        \draw[] (axis cs:5,2) -- (axis cs:5,8);
        \draw[] (axis cs:6,7) -- (axis cs:6,2);
        \draw[] (axis cs:7,9) -- (axis cs:7,7);
        \draw[] (axis cs:8,1) -- (axis cs:8,9);
        \draw[] (axis cs:9,1) -- (axis cs:9,5);
        
        
        % running maxima
        \draw[color=blue] (axis cs:0,3.05) -- (axis cs:1-0.05,3.05);
        \draw[color=blue] (axis cs:1-0.05,5.05) -- (axis cs:2-0.05,5.05);
        \draw[color=blue] (axis cs:2-0.05,7.05) -- (axis cs:3-0.05,7.05);
        \draw[color=blue] (axis cs:3-0.05,8.05) -- (axis cs:4-0.05,8.05);
        \draw[color=blue] (axis cs:4-0.05,8.05) -- (axis cs:5-0.05,8.05);
        \draw[color=blue] (axis cs:5-0.05,8.05) -- (axis cs:6-0.05,8.05);
        \draw[color=blue] (axis cs:6-0.05,8.05) -- (axis cs:7-0.05,8.05);
        \draw[color=blue] (axis cs:7-0.05,9.05) -- (axis cs:8-0.05,9.05);
        \draw[color=blue] (axis cs:8-0.05,9.05) -- (axis cs:9-0.05,9.05);
        \draw[color=blue] (axis cs:9-0.05,9.05) -- (axis cs:10,9.05);
        
        \draw[color=blue] (axis cs:1-0.05,3.05) -- (axis cs:1-0.05,5.05);
        \draw[color=blue] (axis cs:2-0.05,5.05) -- (axis cs:2-0.05,7.05);
        \draw[color=blue] (axis cs:3-0.05,7.05) -- (axis cs:3-0.05,8.05);
        \draw[color=blue] (axis cs:7-0.05,8.05) -- (axis cs:7-0.05,9.05);
   
        
        % running minima
        \draw[color=red] (axis cs:0,3- .05) -- (axis cs:1+0.05,3-.05);
        \draw[color=red] (axis cs:1+0.05,3-.05) -- (axis cs:5+0.05,3-.05);
        \draw[color=red] (axis cs:5+0.05,2-.05) -- (axis cs:8+0.05,2-.05);
        \draw[color=red] (axis cs:8+0.05,1-.05) -- (axis cs:10+0.05,1-.05);
      
        \draw[color=red] (axis cs:5+0.05,3-.05) -- (axis cs:5+0.05,2-.05);
        \draw[color=red] (axis cs:8+0.05,1-.05) -- (axis cs:8+0.05,2-.05);

        % \draw[color=red] (axis cs:2-0.05,5.05) -- (axis cs:2-0.05,7.05);
        % \draw[color=red] (axis cs:3-0.05,7.05) -- (axis cs:3-0.05,8.05);
        % \draw[color=red] (axis cs:7-0.05,8.05) -- (axis cs:7-0.05,9.05);
       % \draw[] (axis cs:0,7) rectangle (axis cs:4,9);
        \draw[soild,thin,black] (axis cs:0.5,9)  rectangle (axis cs:5,12));
        
        \draw[soild,thin,black] (axis cs:0.8,11.2)  -- (axis cs:1.5,11.2);
        \draw[soild,thin,blue] (axis cs:0.8,10.5)  -- (axis cs:1.5,10.5));
        \draw[soild,thin,red] (axis cs:0.8,9.8)  -- (axis cs:1.5,9.8));
         
        \node[color=black,right] at (axis cs:1.5,11.2) {\tiny $x(\tau)$};
        \node[color=blue, right] at (axis cs:1.5,10.5) {\tiny $\max_{s \le \tau \le t} x(\tau)$};
        \node[color=red, right] at (axis cs:1.5,9.8) {\tiny $\min_{s \le \tau \le t} x(\tau)$};
        \end{axis}
        
\end{tikzpicture}
\end{document}

